diff --git a/build/parseSpec.c b/build/parseSpec.c
index 01620bd..4233b15 100644
--- a/build/parseSpec.c
+++ b/build/parseSpec.c
@@ -122,6 +122,24 @@ static struct OpenFileInfo * newOpenFileInfo(void)
     return ofi;
 }
 
+static int begins_with(const char *s, const char *prefix)
+{
+  return strncmp(s, prefix, strlen(prefix)) == 0;
+}
+
+static int isCommentedDefine(const char *line)
+{
+    const char *p = line;
+
+    SKIPSPACE(p);
+    if (*p++ == '#') {
+        SKIPSPACE(p);
+       if (begins_with(p, "%define") &&
+           isspace(p[strlen("%define")])) return 1;
+    }
+    return 0;
+}
+
 /**
  */
 static void forceIncludeFile(rpmSpec spec, const char * fileName)
@@ -163,6 +181,11 @@ static int copyNextLineFromOFI(rpmSpec spec, OFI_t *ofi)
 	*to++ = '\0';
 	ofi->readPtr = from;
 
+       if (isCommentedDefine(spec->lbuf)) {
+           rpmlog(RPMLOG_ERR, _("%s:%d: #%%define is forbidden, use #define to comment a %%define\n"), ofi->fileName, ofi->lineNum);
+           return -1;
+       }
+
 	/* Check if we need another line before expanding the buffer. */
 	for (p = spec->lbuf; *p; p++) {
 	    switch (*p) {
